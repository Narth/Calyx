CBO Operational Contract
=======================

Purpose
-------
This file formalizes the minimal operational contract for the Calyx Bridge Overseer (CBO) role
and any delegated agents (CBO agents). It is intentionally short and conservative â€” designed to
preserve operator control while enabling safe, auditable autonomy on Station Calyx.

Contract (short)
-----------------
- Inputs: operator-approved task manifests in `outgoing/cbo/agent_tasks.json`, claims in
  `outgoing/cbo/claims/`, and runtime gates under `outgoing/gates/*.ok`.
- Outputs: claim/result JSON in `outgoing/cbo/claims/` and `outgoing/cbo/results/`, operator-facing
  messages appended to `outgoing/bridge/dialog.log`, and audit artefacts written to
  `outgoing/autonomy_evidence_report.md` when actions change system state.
- Safety gates (required):
  - `outgoing/gates/apply.ok` must exist and contain `true` for any non-dry-run operation that makes
    irreversible or destructive changes (deletions, reconfigurations, or enabling network access).
  - `outgoing/gates/network.ok` must exist and contain `true` before any agent performs external
    network activity.
- Execution policy: agents execute in dry-run by default. `--apply` or equivalent explicit flags must
  be provided to switch to apply mode, and `outgoing/gates/apply.ok` must be present.
- Error handling: any action that raises an exception or non-zero exit must produce an alert JSON in
  `outgoing/alerts/` and append a brief line to `outgoing/bridge/dialog.log`.

Operator responsibilities
------------------------
- Review and confirm `outgoing/cbo/agent_tasks.json` before agents execute high-priority tasks.
- Place `outgoing/gates/apply.ok` and `outgoing/gates/network.ok` as needed to allow applies or
  network-enabled tasks.
- Approve deletion of backups and other potentially irreversible housekeeping actions.

Agent responsibilities
----------------------
- Claim tasks by writing `outgoing/cbo/claims/claim_<task>_<owner>_<ts>.json` before performing work.
- Write results to `outgoing/cbo/results/result_<task>_<owner>_<ts>.json` containing success/failure,
  dry_run flag and human-readable note.
- Do not execute arbitrary shell commands; only run whitelisted, well-audited handlers defined in
  repository code. If execution is needed, prefer operator-reviewed handlers and require explicit
  `--execute` with operator consent.

Audit and observability
-----------------------
- All claimed tasks and results are persisted under `outgoing/cbo/` and are considered the canonical
  audit trail for CBO activity.
- Agent actions that touch system state must append a one-line summary to `outgoing/bridge/dialog.log`.

Revision
--------
This file was generated by automation on 2025-10-24 and may be updated by operators or authorized
agents with a human-approved commit and review.
